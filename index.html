<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>VisuDSA ‚Äî starter</title>
  <link rel="stylesheet" href="./styles.css?v=2025-09-28">
</head>
<body>
  <header class="topbar">
    <h1>VisuDSA <span class="badge">starter</span></h1>
  </header>

  <main class="grid">
    <section class="panel inputs-panel" aria-label="Inputs" style="grid-area: inputs;">
      <div class="inputs-header">
        <div class="panel-title">Inputs</div>
        <div class="inputs-hint" id="inputsHint">Tap to open menu</div>
        <button id="inputsToggle" class="inputs-toggle" aria-expanded="true" aria-controls="inputsBody" title="Collapse inputs">‚åÑ</button>
      </div>
      <div class="inputs-body" id="inputsBody">
        <div class="inputs-row">
        <div class="field">
          <label for="algoType">Algorithm Type</label>
          <select id="algoType" aria-label="Algorithm Type">
            <option value="sorting">Sorting</option>
            <option value="searching">Searching</option>
            <option value="trees">Trees (BST)</option>
          </select>
        </div>
        <div class="field">
          <label for="algoSelect">Algorithm</label>
          <select id="algoSelect" aria-label="Algorithm"></select>
        </div>
        <div class="field grow" id="arrayField">
          <label for="arrayInput">Array (comma or space-separated)</label>
          <input id="arrayInput" value="5,2,9,1,5,6" aria-label="Array input (comma or space-separated)" inputmode="numeric" pattern="[0-9,\s\-]*" />
        </div>
          <div class="field compact-buttons" id="arrayButtons">
            <label class="size-field" title="Array size for Random">
              n = <input type="number" id="arraySize" min="3" max="50" step="1" value="10" inputmode="numeric" />
            </label>
            <button id="randomBtn" title="Randomize input">üé≤ Random</button>
            <button id="loadBtn">Load</button>
            <label class="sorted-toggle" title="Generate sorted after random">
              <input type="checkbox" id="sortedToggle" />
              <span class="switch" aria-hidden="true"></span>
              <span class="switch-label">Sorted</span>
            </label>
            <label class="sorted-toggle" title="Vibrate on key actions">
              <input type="checkbox" id="hapticsToggle" />
              <span class="switch" aria-hidden="true"></span>
              <span class="switch-label">Haptics</span>
            </label>
            <button id="resetBtn" title="Reset to defaults">Reset</button>
          </div>
        <div class="field" id="searchField">
          <label for="searchTarget" id="searchTargetLabel" style="display: none;">Target</label>
          <input id="searchTarget" type="number" value="5" style="display: none;" aria-label="Search target" inputmode="numeric" />
        </div>
        <div class="field" id="bstField">
          <!-- BST controls (shown in Trees mode) -->
          <label for="bstValue" id="bstValueLabel" style="display:none;">Value</label>
          <div class="bst-buttons">
            <input id="bstValue" type="number" value="8" style="display:none;" aria-label="BST value" inputmode="numeric" />
            <button id="bstInsertBtn" style="display:none;">Insert</button>
            <button id="bstSearchBtn" style="display:none;">Search</button>
            <button id="bstClearBtn" style="display:none;">Clear</button>
          </div>
        </div>
        </div>
      </div>
      <div class="mini-toolbar" id="miniToolbar" aria-hidden="true">
        <button id="miniRandom" title="Randomize input">üé≤</button>
        <button id="miniLoad" title="Load input">‚§¥</button>
        <button id="miniPlay" title="Play/Pause">‚ñ∂</button>
      </div>
    </section>
    <section class="panel" id="vizPanel" aria-labelledby="vizTitle" style="grid-area: visualization;">
  <div id="vizTitle" class="panel-title" style="margin-bottom:6px">Visualization</div>
  <div id="visual"></div>
      <div id="searchVisual" style="display: none;"></div>
  <div id="treeVisual" style="display:none;"></div>
      <div class="controls">
        <button id="firstBtn" title="First step">‚èÆ First</button>
        <button id="prevBtn" title="Previous step">‚óÄ Prev</button>
        <button id="playBtn" title="Play/Pause" aria-pressed="false">‚ñ∂ Play</button>
        <button id="nextBtn" title="Next step">Next ‚ñ∂</button>
        <button id="lastBtn" title="Last step">Last ‚è≠</button>
        <label class="speed">
          Speed:
          <input id="speedRange" type="range" min="100" max="1500" step="50" value="600">
        </label>
        <label id="bstFitWrap" class="speed" style="display:none">
          <input type="checkbox" id="bstFitToggle"> Fit tree
        </label>
        <button id="bstResetBtn" style="display:none">Reset view</button>
        <span id="stepCounter" class="muted" aria-live="polite">Step 0/0</span>
      </div>
    </section>

    <section class="panel code" aria-labelledby="codeTitle" style="grid-area: pseudocode;">
      <div id="codeTitle" class="panel-title">Pseudocode</div>
      <pre id="codePane"><code></code></pre>
      <div class="panel-sub">
        <div class="panel-title">Recursion Analysis</div>
        <div id="analysisSummary" class="analysis-summary" style="display:none;">
          <span class="summary-label">Total Time Complexity:</span>
          <span id="analysisBigO" class="summary-value" aria-live="polite"></span>
        </div>
        <div class="analysis-controls" id="analysisControls" style="display:none;">
          <span id="analysisModeWrap">
            <label for="analysisMode">Mode:</label>
            <select id="analysisMode">
              <option value="avg">Average</option>
              <option value="worst">Worst</option>
            </select>
          </span>
          <label for="analysisNumeric">
            <input type="checkbox" id="analysisNumeric" /> Numeric
          </label>
          <label for="analysisC">c =</label>
          <input id="analysisC" type="number" value="8" min="1" step="1" style="width:64px" />
        </div>
        <table class="analysis">
          <thead>
            <tr>
              <th>Level</th>
              <th>Arg size</th>
              <th>TC of 1 node</th>
              <th>Nodes/level</th>
              <th>Level TC</th>
            </tr>
          </thead>
          <tbody id="analysisBody"></tbody>
          <tfoot id="analysisFoot"></tfoot>
        </table>
      </div>
    </section>

    <section class="panel" aria-label="Complexity" style="grid-area: complexity;">
      <div class="panel-title">Complexity</div>
      <table class="complexity">
        <tbody id="complexityBody">
          <!-- Filled at runtime -->
        </tbody>
      </table>
      <details class="notes">
        <summary>Notes</summary>
        <div id="notesBody"></div>
      </details>
    </section>
  </main>

  <footer class="foot">
    Built with vanilla JS. No frameworks. Edit <code>algorithms/*.js</code> to add more.
    <a href="https://visualgo.net/en" target="_blank" rel="noopener">Inspired by VisuAlgo</a>.
  </footer>

  <script type="module" src="./app.js"></script>
</body>
</html>
